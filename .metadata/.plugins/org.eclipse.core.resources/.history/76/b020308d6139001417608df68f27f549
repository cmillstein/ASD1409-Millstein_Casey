var reddit = "http://api.reddit.com/";


var success = function(){
	alert("Here is your data!");
	var replyData = JSON.parse(this.responseText);
	var posts = replyData.data.children;
		for (var i=0, j=posts.length; i<j; i++){
	var title = posts[i].data.title;
	var	newPost = Ti.UI.createView({
		backgroundColor: "#fff",
		bottom: 3,
		height: Ti.UI.SIZE
	});
	var label = Ti.UI.createLabel({
		text: title,
		color: "gray",
		font: {fontSize: 14},
		top: 3,
		bottom: 3,
		left: 10,
		right: 10,
		textAlign: "left",
		height: "auto"
	});
	newPost.add(label);
	scrollView.add(newPost);
	}
};


var error = function(){
	alert("Oops, something went wrong!");
};


var client = Ti.Network.createHTTPClient({
	onload: success,
	onerror: error,
	timeout: 5000
});


client.open("GET", reddit);

client.send();